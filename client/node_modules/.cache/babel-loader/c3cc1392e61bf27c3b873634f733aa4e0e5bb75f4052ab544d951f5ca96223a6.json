{"ast":null,"code":"// export const scroll = (targetValue, duration) => {\n//     const startValue = parseInt(window.scrollY);\n//     const distance = targetValue+10 - startValue;\n//     const startTime = performance.now();\n//     function animationStep() {\n//         const elapsed = performance.now() - startTime;\n//         const progress = Math.min(elapsed / duration, 1);\n//         const currentValue = startValue + distance * progress;\n//         window.scrollTo(0, currentValue);\n//         if (progress < 1) {\n//             requestAnimationFrame(animationStep);\n//         }else{\n//             console.log('stop')\n//         }   \n//      }\n\n//     requestAnimationFrame(animationStep);\n// }\n\nexport const scroll = target => {\n  let requestId;\n  function animation(target) {\n    const currentValue = parseInt(window.scrollY);\n    let step = (target - currentValue) / 20;\n    if (step < 0 && step > -1) {\n      step = -1;\n    } else if (step < 1 && step > 0) {\n      step = 1;\n    }\n    window.scrollBy(0, step);\n    //   console.log(Math.ceil((target - currentValue) / 20));\n    if (Math.abs(target - currentValue) !== 0) {\n      requestId = requestAnimationFrame(() => animation(target));\n    } else {\n      // console.log(\"stop\");\n    }\n  }\n  cancelAnimationFrame(requestId);\n  animation(target);\n};","map":{"version":3,"names":["scroll","target","requestId","animation","currentValue","parseInt","window","scrollY","step","scrollBy","Math","abs","requestAnimationFrame","cancelAnimationFrame"],"sources":["/Users/yutongzhu/Documents/github-repo/My-Personal-Website/src/Animation/scroll.animate.js"],"sourcesContent":["// export const scroll = (targetValue, duration) => {\n//     const startValue = parseInt(window.scrollY);\n//     const distance = targetValue+10 - startValue;\n//     const startTime = performance.now();\n//     function animationStep() {\n//         const elapsed = performance.now() - startTime;\n//         const progress = Math.min(elapsed / duration, 1);\n//         const currentValue = startValue + distance * progress;\n//         window.scrollTo(0, currentValue);\n//         if (progress < 1) {\n//             requestAnimationFrame(animationStep);\n//         }else{\n//             console.log('stop')\n//         }   \n//      }\n\n//     requestAnimationFrame(animationStep);\n// }\n\n\nexport const scroll = (target) => {\n    let requestId;\n    \n    function animation(target) {\n      const currentValue = parseInt(window.scrollY);\n      let step = (target - currentValue) / 20;\n      if (step < 0 && step > -1) {\n        step = -1;\n      } else if (step < 1 && step > 0) {\n        step = 1;\n      }\n      window.scrollBy(0, step);\n    //   console.log(Math.ceil((target - currentValue) / 20));\n      if (Math.abs(target - currentValue)!==0) {\n        requestId= requestAnimationFrame(() => animation(target));\n      } else {\n        // console.log(\"stop\");\n      }\n    }\n  cancelAnimationFrame(requestId);\n  animation(target);\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAGA,OAAO,MAAMA,MAAM,GAAIC,MAAM,IAAK;EAC9B,IAAIC,SAAS;EAEb,SAASC,SAASA,CAACF,MAAM,EAAE;IACzB,MAAMG,YAAY,GAAGC,QAAQ,CAACC,MAAM,CAACC,OAAO,CAAC;IAC7C,IAAIC,IAAI,GAAG,CAACP,MAAM,GAAGG,YAAY,IAAI,EAAE;IACvC,IAAII,IAAI,GAAG,CAAC,IAAIA,IAAI,GAAG,CAAC,CAAC,EAAE;MACzBA,IAAI,GAAG,CAAC,CAAC;IACX,CAAC,MAAM,IAAIA,IAAI,GAAG,CAAC,IAAIA,IAAI,GAAG,CAAC,EAAE;MAC/BA,IAAI,GAAG,CAAC;IACV;IACAF,MAAM,CAACG,QAAQ,CAAC,CAAC,EAAED,IAAI,CAAC;IAC1B;IACE,IAAIE,IAAI,CAACC,GAAG,CAACV,MAAM,GAAGG,YAAY,CAAC,KAAG,CAAC,EAAE;MACvCF,SAAS,GAAEU,qBAAqB,CAAC,MAAMT,SAAS,CAACF,MAAM,CAAC,CAAC;IAC3D,CAAC,MAAM;MACL;IAAA;EAEJ;EACFY,oBAAoB,CAACX,SAAS,CAAC;EAC/BC,SAAS,CAACF,MAAM,CAAC;AACnB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}